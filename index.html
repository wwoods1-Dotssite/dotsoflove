<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dot's of Love Pet Sitting</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo::before {
            content: 'üêæ';
            font-size: 2rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .nav-links a:hover, .nav-links a.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .admin-link {
            background: linear-gradient(45deg, #667eea, #764ba2) !important;
            color: white !important;
        }

        .page {
            display: none;
            padding: 2rem 0;
            min-height: calc(100vh - 80px);
        }

        .page.active {
            display: block;
        }

        .hero {
            text-align: center;
            padding: 4rem 0;
            color: white;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .profile-section {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            align-items: center;
        }

        .profile-image {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .services-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto auto;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .service-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .service-item:hover {
            transform: scale(1.05);
        }

        .service-item h3 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .featured-service {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4);
            transform: translateY(-5px);
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .featured-service::before {
            content: '‚≠ê FEATURED SERVICE ‚≠ê';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            background: #ffd700;
            color: #333;
            padding: 0.3rem 1rem;
            font-size: 0.8rem;
            font-weight: bold;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .featured-service h3 {
            color: white !important;
            font-size: 1.4rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .featured-service p {
            color: rgba(255, 255, 255, 0.95);
        }

        .featured-service strong {
            color: #ffd700;
            font-size: 1.1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .featured-service:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 50px rgba(102, 126, 234, 0.6);
        }

        /* Enhanced Gallery Styles */
        .gallery-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .gallery-item {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 0;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        .gallery-image {
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }

        .gallery-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
            transition: transform 0.3s ease;
            background: #f8f9fa;
        }

        .image-count {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .gallery-image::after {
            content: 'üîç Click to view';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: white;
            padding: 2rem 1rem 0.8rem;
            font-size: 0.9rem;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .gallery-item:hover .gallery-image::after {
            opacity: 1;
        }

        .gallery-item:hover .gallery-image img {
            transform: scale(1.05);
        }

        .gallery-content {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .pet-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .pet-date {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .pet-story {
            color: #333;
            line-height: 1.6;
            font-size: 1rem;
        }

        .dorothy-pet-badge {
            background: #ffd700;
            color: #333;
            padding: 0.2rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        /* Enhanced Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            overflow: auto;
        }

        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow: hidden;
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close {
            color: white;
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
        }

        .close:hover {
            background: rgba(0, 0, 0, 0.7);
        }

        .modal-image-container {
            width: 100%;
            height: 60vh;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
        }

        /* Image Carousel Styles */
        .image-carousel {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .carousel-container {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .carousel-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .carousel-image.active {
            opacity: 1;
        }

        .carousel-prev,
        .carousel-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 1rem;
            cursor: pointer;
            font-size: 1.5rem;
            border-radius: 50%;
            z-index: 10;
            transition: background 0.3s ease;
        }

        .carousel-prev:hover,
        .carousel-next:hover {
            background: rgba(0, 0, 0, 0.9);
        }

        .carousel-prev {
            left: 20px;
        }

        .carousel-next {
            right: 20px;
        }

        .carousel-dots {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .dot.active {
            background: white;
        }

        .single-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .modal-details {
            padding: 2rem;
        }

        .modal-pet-name {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .modal-pet-date {
            font-size: 1rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .modal-pet-story {
            color: #333;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .modal-badge {
            background: #ffd700;
            color: #333;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 1rem;
        }

        /* Rates Section Styles */
        .rates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .rate-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .rate-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .rate-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .rate-price {
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .rate-unit {
            color: #666;
            margin-bottom: 1rem;
            font-style: italic;
        }

        .rate-description {
            color: #333;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .featured-rate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            color: white;
            border: 3px solid #ffd700 !important;
            transform: scale(1.05);
        }

        .featured-rate .rate-title {
            color: white !important;
        }

        .featured-rate .rate-price {
            color: #ffd700 !important;
        }

        .featured-rate .rate-unit {
            color: rgba(255, 255, 255, 0.8) !important;
        }

        .featured-rate .rate-description {
            color: rgba(255, 255, 255, 0.95) !important;
        }

        /* Enhanced Admin Panel */
        .admin-panel {
            max-width: 1000px;
            margin: 0 auto;
        }

        .admin-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 0.5rem;
            margin-bottom: 2rem;
            gap: 0.5rem;
        }

        .admin-tab {
            flex: 1;
            padding: 1rem;
            background: transparent;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .admin-tab.active {
            background: #667eea;
            color: white;
        }

        .admin-tab-content {
            display: none;
        }

        .admin-tab-content.active {
            display: block;
        }

        .admin-form {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .file-upload {
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            margin: 1rem 0;
            transition: background-color 0.3s ease;
            cursor: pointer;
        }

        .file-upload:hover {
            background-color: rgba(102, 126, 234, 0.1);
        }

        .file-upload input[type="file"] {
            display: none;
        }

        .file-upload-btn {
            background: #667eea;
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .admin-gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .admin-gallery-item {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: transform 0.3s ease;
        }

        .admin-gallery-item:hover {
            transform: translateY(-3px);
        }

        .admin-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 0.5rem;
        }

        .edit-btn, .delete-btn {
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            font-size: 1rem;
            color: white;
            transition: all 0.3s ease;
        }

        .edit-btn {
            background: #28a745;
        }

        .edit-btn:hover {
            background: #218838;
        }

        .delete-btn {
            background: #dc3545;
        }

        .delete-btn:hover {
            background: #c82333;
        }

        .auth-form {
            max-width: 400px;
            margin: 4rem auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
        }

        .testimonials {
            display: grid;
            gap: 1.5rem;
        }

        .testimonial {
            background: rgba(255, 255, 255, 0.9);
            padding: 1.5rem;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .testimonial-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .customer-name {
            font-weight: bold;
            color: #667eea;
        }

        .rating {
            color: #ffd700;
            font-size: 1.2rem;
        }

        .contact-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-danger {
            background: #dc3545;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: none;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: none;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #666;
        }

        @media (max-width: 768px) {
            .nav-links {
                gap: 0.5rem;
            }

            .nav-links a {
                padding: 0.3rem 0.6rem;
                font-size: 0.9rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .profile-section {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .profile-image {
                height: 200px;
                font-size: 3rem;
            }

            .gallery-item {
                grid-template-columns: 1fr;
                gap: 0;
            }

            .gallery-image {
                width: 100%;
                height: 250px;
            }

            .gallery-content {
                padding: 1.5rem;
            }

            .pet-name {
                font-size: 1.3rem;
            }

            .modal-content {
                width: 95%;
                margin: 5% auto;
            }

            .modal-pet-name {
                font-size: 1.5rem;
            }

            .close {
                top: 10px;
                right: 15px;
                font-size: 25px;
                width: 40px;
                height: 40px;
            }

            .carousel-prev,
            .carousel-next {
                padding: 0.5rem;
                font-size: 1.2rem;
            }

            .carousel-prev {
                left: 10px;
            }

            .carousel-next {
                right: 10px;
            }

            .rates-grid {
                grid-template-columns: 1fr;
            }

            .admin-tabs {
                flex-direction: column;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .admin-gallery-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">Dot's of Love Pet Sitting</div>
            <ul class="nav-links">
                <li><a href="#about" class="nav-link active">About</a></li>
                <li><a href="#gallery" class="nav-link">Gallery</a></li>
                <li><a href="#rates" class="nav-link">Rates</a></li>
                <li><a href="#testimonials" class="nav-link">Reviews</a></li>
                <li><a href="#contact" class="nav-link">Contact</a></li>
                <li><a href="#admin" class="nav-link admin-link">Admin</a></li>
            </ul>
        </nav>
    </header>

    <!-- Enhanced Image Modal -->
    <div id="imageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-image-container" id="modalImageContainer">
                <!-- Images will be loaded here -->
            </div>
            <div class="modal-details">
                <div id="modalBadge" class="modal-badge" style="display: none;">Dorothy's Pet</div>
                <div id="modalPetName" class="modal-pet-name"></div>
                <div id="modalPetDate" class="modal-pet-date"></div>
                <div id="modalPetStory" class="modal-pet-story"></div>
            </div>
        </div>
    </div>

    <!-- About Me Page -->
    <div id="about" class="page active">
        <div class="container">
            <div class="hero">
                <h1>Hi, I'm Dorothy!</h1>
                <p>Your trusted neighborhood pet sitter (call me Dot or Dotty!)</p>
            </div>
            
            <div class="card">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #667eea;">My Services</h2>
                <div class="services-grid">
                    <div class="service-item featured-service">
                        <h3>üè† In-Home Pet Sitting</h3>
                        <p>I'll stay at your home to provide 24/7 care for your pets in their familiar environment.</p>
                        <strong>Starting at $75/night</strong>
                    </div>
                    <div class="service-item">
                        <h3>üö∂ Daily Dog Walks</h3>
                        <p>Regular walks to keep your dog happy, healthy, and exercised while you're at work.</p>
                        <strong>Starting at $25/walk</strong>
                    </div>
                    <div class="service-item">
                        <h3>üè° Pet Visits & Care</h3>
                        <p>Daily check-ins to feed, play with, and care for your pets in your home.</p>
                        <strong>Starting at $30/visit</strong>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="profile-section">
                    <div class="profile-image">
                        üë©üêïüê±
                    </div>
                    <div>
                        <h2>About Me</h2>
                        <p>Hi there! I'm Dorothy, but everyone calls me Dot or Dotty. I'm a 25-year-old animal lover who has been caring for pets professionally for over 8 years. I understand how important your furry family members are to you, and I'm here to provide them with the love, attention, and care they deserve while you're away.</p>
                        
                        <p>Growing up with four dogs (Connie Sioux, Tarnation, Nala, and Beau) and four cats (Nimbus, Orion, Rafiki, and Jonesy) of my own, I've learned to read animal behavior and understand their unique needs. As a dedicated professional, I'm responsible, reliable, and genuinely passionate about animal welfare.</p>
                        
                        <h3 style="margin-top: 2rem; color: #667eea;">Why Choose Me?</h3>
                        <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                            <li>üèÜ 8+ years of professional pet sitting experience</li>
                            <li>üì± Regular photo and text updates</li>
                            <li>üö® Trained in pet first aid</li>
                            <li>üëç Flexible scheduling including holidays</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gallery Page -->
    <div id="gallery" class="page">
        <div class="container">
            <div class="hero">
                <h1>Pet Gallery</h1>
                <p>Meet some of the wonderful pets I've cared for and my own fur family!</p>
            </div>

            <div class="card">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #667eea;">Our Pet Family</h2>
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Gallery items will be loaded here -->
                </div>
                <div id="galleryLoading" class="loading">
                    <p>Loading gallery...</p>
                </div>
                <div id="galleryEmpty" style="text-align: center; padding: 2rem; display: none;">
                    <p>No pets in the gallery yet. Check back soon!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Rates Page -->
    <div id="rates" class="page">
        <div class="container">
            <div class="hero">
                <h1>Service Rates</h1>
                <p>Transparent pricing for quality pet care</p>
            </div>

            <div class="card">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #667eea;">Current Rates</h2>
                <div class="rates-grid" id="ratesGrid">
                    <!-- Rates will be loaded here -->
                </div>
                <div id="ratesLoading" class="loading">
                    <p>Loading current rates...</p>
                </div>
                <div id="ratesEmpty" style="text-align: center; padding: 2rem; display: none;">
                    <p>Rates information will be available soon!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Testimonials Page -->
    <div id="testimonials" class="page">
        <div class="container">
            <div class="hero">
                <h1>Happy Customers</h1>
                <p>See what pet parents are saying about our services</p>
            </div>

            <div class="card">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #667eea;">Customer Reviews</h2>
                <div class="testimonials">
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <span class="customer-name">Emma S.</span>
                            <span class="rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                        </div>
                        <p>"This is only a TEST-imonial. Dad jokes for the win!"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page">
        <div class="container">
            <div class="hero">
                <h1>Let's Connect!</h1>
                <p>Ready to give your pet the best care possible?</p>
            </div>

            <div class="card">
                <div class="contact-form">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: #667eea;">Request Pet Sitting Services</h2>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name">Your Name *</label>
                            <input type="text" id="name" name="name" required>
                        </div>

                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email">
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone">
                            <small style="color: #666; font-size: 0.9em;">* Either email or phone number is required</small>
                        </div>

                        <div class="form-group">
                            <label for="bestTime">Best Time to Call *</label>
                            <select id="bestTime" name="bestTime" required>
                                <option value="">Select a time...</option>
                                <option value="morning">Morning (8 AM - 12 PM)</option>
                                <option value="afternoon">Afternoon (12 PM - 5 PM)</option>
                                <option value="evening">Evening (5 PM - 8 PM)</option>
                                <option value="weekend">Weekends</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="service">Service Needed</label>
                            <select id="service" name="service">
                                <option value="">Select a service...</option>
                                <option value="overnight">Overnight Pet Sitting</option>
                                <option value="walks">Daily Dog Walks</option>
                                <option value="visits">Pet Visits</option>
                                <option value="playtime">Pet Playtime</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="petInfo">Tell me about your pet(s)</label>
                            <textarea id="petInfo" name="petInfo" rows="4" placeholder="Pet's name, breed, age, special needs, etc."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="dates">Preferred Dates</label>
                            <textarea id="dates" name="dates" rows="2" placeholder="When do you need pet sitting services?"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="message">Additional Message</label>
                            <textarea id="message" name="message" rows="3" placeholder="Any other details or questions?"></textarea>
                        </div>

                        <div style="text-align: center;">
                            <button type="submit" class="btn">Send Request</button>
                        </div>

                        <div class="success-message" id="successMessage">
                            Thank you for your request! We'll contact you soon via your preferred method to discuss your pet sitting needs.
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Admin Page -->
    <div id="admin" class="page">
        <div class="container">
            <div id="adminAuth" class="auth-form">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #667eea;">Admin Login</h2>
                <form id="authForm">
                    <div class="form-group">
                        <label for="adminUsername">Username:</label>
                        <input type="text" id="adminUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">Password:</label>
                        <input type="password" id="adminPassword" required>
                    </div>
                    <div style="text-align: center;">
                        <button type="submit" class="btn">Login</button>
                    </div>
                    <div class="error-message" id="authError"></div>
                </form>
            </div>

            <div id="adminPanel" class="admin-panel" style="display: none;">
                <div class="hero">
                    <h1>Admin Dashboard</h1>
                    <p>Manage gallery and rates</p>
                </div>

                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="switchAdminTab('gallery')">Gallery Management</button>
                    <button class="admin-tab" onclick="switchAdminTab('rates')">Rates Management</button>
                </div>

                <!-- Gallery Management Tab -->
                <div id="galleryTab" class="admin-tab-content active">
                    <div class="admin-form">
                        <h3 style="color: #667eea; margin-bottom: 1rem;">Add New Pet</h3>
                        <form id="addPetForm" enctype="multipart/form-data">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="petName">Pet Name *</label>
                                    <input type="text" id="petName" name="petName" required>
                                </div>
                                <div class="form-group">
                                    <label for="serviceDate">Service Date</label>
                                    <input type="text" id="serviceDate" name="serviceDate" placeholder="e.g., Summer 2024">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="storyDescription">Story Description</label>
                                <textarea id="storyDescription" name="storyDescription" rows="4" placeholder="Tell us about this pet and your experience caring for them..."></textarea>
                            </div>

                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="isDorothyPet" name="isDorothyPet" style="margin-right: 0.5rem;">
                                    This is one of Dorothy's own pets
                                </label>
                            </div>

                            <div class="form-group">
                                <label>Pet Photos (Multiple files supported)</label>
                                <div class="file-upload" onclick="document.getElementById('petImages').click()">
                                    <button type="button" class="file-upload-btn">Choose Photos</button>
                                    <p style="margin-top: 1rem; color: #666;">Click to upload photos (max 5MB each)</p>
                                    <input type="file" id="petImages" name="images" accept="image/*" multiple>
                                    <div id="filePreview" style="margin-top: 1rem;"></div>
                                </div>
                            </div>

                            <div style="text-align: center;">
                                <button type="submit" class="btn">Add to Gallery</button>
                            </div>
                            <div class="success-message" id="addPetSuccess"></div>
                            <div class="error-message" id="addPetError"></div>
                        </form>
                    </div>

                    <div class="card">
                        <h3 style="color: #667eea; margin-bottom: 1rem;">Current Gallery</h3>
                        <div class="admin-gallery-grid" id="adminGalleryGrid">
                            <!-- Admin gallery items will be loaded here -->
                        </div>
                        <div id="adminGalleryLoading" class="loading">
                            <p>Loading gallery...</p>
                        </div>
                    </div>
                </div>

                <!-- Rates Management Tab -->
                <div id="ratesTab" class="admin-tab-content">
                    <div class="admin-form">
                        <h3 style="color: #667eea; margin-bottom: 1rem;">Add/Edit Rate</h3>
                        <form id="rateForm">
                            <input type="hidden" id="rateId" name="rateId">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="serviceType">Service Type *</label>
                                    <input type="text" id="serviceType" name="serviceType" required placeholder="e.g., Pet Sitting (Overnight)">
                                </div>
                                <div class="form-group">
                                    <label for="ratePerUnit">Rate *</label>
                                    <input type="number" id="ratePerUnit" name="ratePerUnit" step="0.01" required placeholder="75.00">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="unitType">Unit Type *</label>
                                    <select id="unitType" name="unitType" required>
                                        <option value="">Select unit...</option>
                                        <option value="per_night">Per Night</option>
                                        <option value="per_day">Per Day</option>
                                        <option value="per_visit">Per Visit</option>
                                        <option value="per_walk">Per Walk</option>
                                        <option value="per_hour">Per Hour</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="isActive" name="isActive" checked style="margin-right: 0.5rem;">
                                        Active Rate
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="description">Description</label>
                                <textarea id="description" name="description" rows="3" placeholder="Brief description of this service..."></textarea>
                            </div>
                            <div style="text-align: center;">
                                <button type="submit" class="btn" id="rateSubmitBtn">Add Rate</button>
                                <button type="button" class="btn btn-secondary" onclick="resetRateForm()" style="margin-left: 1rem;">Cancel</button>
                            </div>
                            <div class="success-message" id="rateSuccess"></div>
                            <div class="error-message" id="rateError"></div>
                        </form>
                    </div>

                    <div class="card">
                        <h3 style="color: #667eea; margin-bottom: 1rem;">Current Rates</h3>
                        <div id="adminRatesGrid">
                            <!-- Admin rates will be loaded here -->
                        </div>
                        <div id="adminRatesLoading" class="loading">
                            <p>Loading rates...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        const API_BASE = 'https://dotsoflove-production.up.railway.app';
        let adminToken = localStorage.getItem('adminToken');
        let currentImageIndex = 0;
        let currentImages = [];

        // Navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');

            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links and pages
                    navLinks.forEach(l => l.classList.remove('active'));
                    pages.forEach(p => p.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Show corresponding page
                    const targetPage = this.getAttribute('href').substring(1);
                    document.getElementById(targetPage).classList.add('active');
                    
                    // Load page-specific content
                    if (targetPage === 'gallery') {
                        loadGallery();
                    } else if (targetPage === 'rates') {
                        loadRates();
                    } else if (targetPage === 'admin') {
                        checkAdminAuth();
                    }
                });
            });

            // Load initial content
            loadGallery();
            loadRates();
        });

        // Enhanced Gallery functionality
        async function loadGallery() {
            try {
                const response = await fetch(`${API_BASE}/api/gallery`);
                const pets = await response.json();
                
                const galleryGrid = document.getElementById('galleryGrid');
                const galleryLoading = document.getElementById('galleryLoading');
                const galleryEmpty = document.getElementById('galleryEmpty');
                
                galleryLoading.style.display = 'none';
                
                if (pets.length === 0) {
                    galleryEmpty.style.display = 'block';
                    galleryGrid.innerHTML = '';
                    return;
                }
                
                galleryEmpty.style.display = 'none';
                galleryGrid.innerHTML = pets.map(pet => {
                    const images = pet.images || [];
                    const primaryImage = images.find(img => img.isPrimary) || images[0];
                    const hasMultipleImages = images.length > 1;
                    
                    return `
                        <div class="gallery-item" onclick="openModal(${JSON.stringify(pet).replace(/"/g, '&quot;')})">
                            <div class="gallery-image">
                                ${primaryImage ? 
                                    `<img src="${API_BASE}${primaryImage.url}" alt="${pet.pet_name}">
                                     ${hasMultipleImages ? `<div class="image-count">${images.length} photos</div>` : ''}` :
                                    `üêæ`
                                }
                            </div>
                            <div class="gallery-content">
                                ${pet.is_dorothy_pet ? '<div class="dorothy-pet-badge">Dorothy\'s Pet</div>' : ''}
                                <div class="pet-name">${pet.pet_name}</div>
                                ${pet.service_date ? `<div class="pet-date">${pet.service_date}</div>` : ''}
                                ${pet.story_description ? `<div class="pet-story">${pet.story_description}</div>` : ''}
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error('Error loading gallery:', error);
                document.getElementById('galleryLoading').innerHTML = '<p>Error loading gallery. Please try again later.</p>';
            }
        }

        // Load Rates
        async function loadRates() {
            try {
                const response = await fetch(`${API_BASE}/api/rates`);
                const rates = await response.json();
                
                const ratesGrid = document.getElementById('ratesGrid');
                const ratesLoading = document.getElementById('ratesLoading');
                const ratesEmpty = document.getElementById('ratesEmpty');
                
                ratesLoading.style.display = 'none';
                
                if (rates.length === 0) {
                    ratesEmpty.style.display = 'block';
                    ratesGrid.innerHTML = '';
                    return;
                }
                
                ratesEmpty.style.display = 'none';
                ratesGrid.innerHTML = rates.map((rate, index) => {
                    const isFeatured = index === 0; // Make first rate featured
                    return `
                        <div class="rate-card ${isFeatured ? 'featured-rate' : ''}">
                            <div class="rate-title">${rate.service_type}</div>
                            <div class="rate-price">${parseFloat(rate.rate_per_unit).toFixed(2)}</div>
                            <div class="rate-unit">${rate.unit_type.replace('_', ' ')}</div>
                            ${rate.description ? `<div class="rate-description">${rate.description}</div>` : ''}
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error('Error loading rates:', error);
                document.getElementById('ratesLoading').innerHTML = '<p>Error loading rates. Please try again later.</p>';
            }
        }

        // Enhanced Modal with Image Carousel
        window.openModal = function(pet) {
            const modal = document.getElementById('imageModal');
            const modalImageContainer = document.getElementById('modalImageContainer');
            const modalPetName = document.getElementById('modalPetName');
            const modalPetDate = document.getElementById('modalPetDate');
            const modalPetStory = document.getElementById('modalPetStory');
            const modalBadge = document.getElementById('modalBadge');

            const images = pet.images || [];
            currentImages = images;
            currentImageIndex = 0;

            // Set modal content
            if (images.length > 1) {
                // Multiple images - create carousel
                modalImageContainer.innerHTML = `
                    <div class="image-carousel">
                        <div class="carousel-container">
                            ${images.map((img, index) => `
                                <img src="${API_BASE}${img.url}" 
                                     alt="${pet.pet_name}" 
                                     class="carousel-image ${index === 0 ? 'active' : ''}"
                                     data-index="${index}">
                            `).join('')}
                        </div>
                        <button class="carousel-prev" onclick="prevImage()">&lt;</button>
                        <button class="carousel-next" onclick="nextImage()">&gt;</button>
                        <div class="carousel-dots">
                            ${images.map((_, index) => `
                                <span class="dot ${index === 0 ? 'active' : ''}" 
                                      onclick="currentImage(${index})"></span>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (images.length === 1) {
                // Single image
                modalImageContainer.innerHTML = `
                    <img src="${API_BASE}${images[0].url}" alt="${pet.pet_name}" class="single-image">
                `;
            } else {
                // No image
                modalImageContainer.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; font-size: 4rem; color: #667eea;">üêæ</div>
                `;
            }

            modalPetName.textContent = pet.pet_name;
            modalPetDate.textContent = pet.service_date || '';
            modalPetDate.style.display = pet.service_date ? 'block' : 'none';
            modalPetStory.textContent = pet.story_description || '';
            modalPetStory.style.display = pet.story_description ? 'block' : 'none';
            
            modalBadge.style.display = pet.is_dorothy_pet ? 'block' : 'none';

            // Show modal
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        };

        // Carousel navigation functions
        window.nextImage = function() {
            if (currentImages.length <= 1) return;
            currentImageIndex = (currentImageIndex + 1) % currentImages.length;
            updateCarousel();
        };

        window.prevImage = function() {
            if (currentImages.length <= 1) return;
            currentImageIndex = (currentImageIndex - 1 + currentImages.length) % currentImages.length;
            updateCarousel();
        };

        window.currentImage = function(index) {
            currentImageIndex = index;
            updateCarousel();
        };

        function updateCarousel() {
            const images = document.querySelectorAll('.carousel-image');
            const dots = document.querySelectorAll('.dot');
            
            images.forEach((img, index) => {
                img.classList.toggle('active', index === currentImageIndex);
            });
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentImageIndex);
            });
        }

        // Close modal function
        window.closeModal = function() {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        };

        // Modal event listeners
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        document.querySelector('.close').addEventListener('click', closeModal);

        // Keyboard support
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            } else if (e.key === 'ArrowLeft') {
                prevImage();
            } else if (e.key === 'ArrowRight') {
                nextImage();
            }
        });

        // Admin functionality
        function checkAdminAuth() {
            if (adminToken) {
                validateToken();
            } else {
                showAdminAuth();
            }
        }

        function showAdminAuth() {
            document.getElementById('adminAuth').style.display = 'block';
            document.getElementById('adminPanel').style.display = 'none';
        }

        function showAdminPanel() {
            document.getElementById('adminAuth').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            loadAdminGallery();
            loadAdminRates();
        }

        async function validateToken() {
            try {
                const response = await makeAuthenticatedRequest(`${API_BASE}/api/admin/validate`);
                if (response.ok) {
                    showAdminPanel();
                } else {
                    localStorage.removeItem('adminToken');
                    adminToken = null;
                    showAdminAuth();
                }
            } catch (error) {
                localStorage.removeItem('adminToken');
                adminToken = null;
                showAdminAuth();
            }
        }

        // Admin authentication
        document.getElementById('authForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            const errorDiv = document.getElementById('authError');
            
            try {
                const response = await fetch(`${API_BASE}/api/admin/auth`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    adminToken = data.token;
                    localStorage.setItem('adminToken', adminToken);
                    showAdminPanel();
                    errorDiv.style.display = 'none';
                } else {
                    errorDiv.textContent = data.error || 'Invalid credentials';
                    errorDiv.style.display = 'block';
                }
            } catch (error) {
                console.error('Auth error:', error);
                errorDiv.textContent = 'Login failed. Please try again.';
                errorDiv.style.display = 'block';
            }
        });

        // Authenticated request helper
        function makeAuthenticatedRequest(url, options = {}) {
            return fetch(url, {
                ...options,
                headers: {
                    ...options.headers,
                    'Authorization': `Bearer ${adminToken}`
                }
            });
        }

        // Admin tab switching
        window.switchAdminTab = function(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector(`[onclick="switchAdminTab('${tab}')"]`).classList.add('active');
            document.getElementById(`${tab}Tab`).classList.add('active');
            
            if (tab === 'gallery') {
                loadAdminGallery();
            } else if (tab === 'rates') {
                loadAdminRates();
            }
        };

        // File preview for multiple uploads
        document.getElementById('petImages').addEventListener('change', function() {
            const preview = document.getElementById('filePreview');
            preview.innerHTML = '';
            
            if (this.files.length > 0) {
                preview.innerHTML = `<p style="color: #667eea; font-weight: bold;">${this.files.length} file(s) selected:</p>`;
                Array.from(this.files).forEach(file => {
                    preview.innerHTML += `<p style="font-size: 0.9rem; color: #666;">‚Ä¢ ${file.name}</p>`;
                });
            }
        });

        // Add pet form submission
        document.getElementById('addPetForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const successDiv = document.getElementById('addPetSuccess');
            const errorDiv = document.getElementById('addPetError');
            
            try {
                const response = await makeAuthenticatedRequest(`${API_BASE}/api/admin/gallery`, {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    successDiv.textContent = 'Pet added to gallery successfully!';
                    successDiv.style.display = 'block';
                    errorDiv.style.display = 'none';
                    this.reset();
                    document.getElementById('filePreview').innerHTML = '';
                    loadAdminGallery();
                    loadGallery(); // Refresh public gallery
                } else {
                    errorDiv.textContent = data.error || 'Failed to add pet';
                    errorDiv.style.display = 'block';
                    successDiv.style.display = 'none';
                }
            } catch (error) {
                console.error('Error adding pet:', error);
                errorDiv.textContent = 'Failed to add pet. Please try again.';
                errorDiv.style.display = 'block';
                successDiv.style.display = 'none';
            }
        });

        // Load admin gallery
        async function loadAdminGallery() {
            try {
                const response = await fetch(`${API_BASE}/api/gallery`);
                const pets = await response.json();
                
                const adminGrid = document.getElementById('adminGalleryGrid');
                const loadingDiv = document.getElementById('adminGalleryLoading');
                
                loadingDiv.style.display = 'none';
                
                adminGrid.innerHTML = pets.map(pet => {
                    const images = pet.images || [];
                    const primaryImage = images.find(img => img.isPrimary) || images[0];
                    
                    return `
                        <div class="admin-gallery-item">
                            <div class="admin-actions">
                                <button class="edit-btn" onclick="editPet(${pet.id})" title="Edit Pet">‚úèÔ∏è</button>
                                <button class="delete-btn" onclick="deletePet(${pet.id})" title="Delete Pet">&times;</button>
                            </div>
                            ${primaryImage ? 
                                `<img src="${API_BASE}${primaryImage.url}" alt="${pet.pet_name}" style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 1rem;">` :
                                `<div style="width: 100%; height: 150px; background: #f0f0f0; border-radius: 8px; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üêæ</div>`
                            }
                            <div style="font-weight: bold; color: #667eea;">${pet.pet_name}</div>
                            ${pet.service_date ? `<div style="font-size: 0.9rem; color: #666;">${pet.service_date}</div>` : ''}
                            ${pet.is_dorothy_pet ? '<div style="background: #ffd700; color: #333; padding: 0.2rem 0.5rem; border-radius: 10px; font-size: 0.8rem; margin-top: 0.5rem; display: inline-block;">Dorothy\'s Pet</div>' : ''}
                            ${images.length > 1 ? `<div style="margin-top: 0.5rem; font-size: 0.8rem; color: #667eea;">${images.length} photos</div>` : ''}
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error('Error loading admin gallery:', error);
                document.getElementById('adminGalleryLoading').innerHTML = '<p>Error loading gallery.</p>';
            }
        }

        // Load admin rates
        async function loadAdminRates() {
            try {
                const response = await makeAuthenticatedRequest(`${API_BASE}/api/admin/rates`);
                const rates = await response.json();
                
                const adminRatesGrid = document.getElementById('adminRatesGrid');
                const loadingDiv = document.getElementById('adminRatesLoading');
                
                loadingDiv.style.display = 'none';
                
                adminRatesGrid.innerHTML = `
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden;">
                            <thead style="background: #667eea; color: white;">
                                <tr>
                                    <th style="padding: 1rem; text-align: left;">Service</th>
                                    <th style="padding: 1rem; text-align: left;">Rate</th>
                                    <th style="padding: 1rem; text-align: left;">Unit</th>
                                    <th style="padding: 1rem; text-align: left;">Status</th>
                                    <th style="padding: 1rem; text-align: center;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${rates.map(rate => `
                                    <tr style="border-bottom: 1px solid #eee;">
                                        <td style="padding: 1rem;">${rate.service_type}</td>
                                        <td style="padding: 1rem; font-weight: bold;">${parseFloat(rate.rate_per_unit).toFixed(2)}</td>
                                        <td style="padding: 1rem;">${rate.unit_type.replace('_', ' ')}</td>
                                        <td style="padding: 1rem;">
                                            <span style="padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; background: ${rate.is_active ? '#d4edda' : '#f8d7da'}; color: ${rate.is_active ? '#155724' : '#721c24'};">
                                                ${rate.is_active ? 'Active' : 'Inactive'}
                                            </span>
                                        </td>
                                        <td style="padding: 1rem; text-align: center;">
                                            <button onclick="editRate(${rate.id})" class="btn btn-success" style="padding: 0.3rem 0.8rem; margin-right: 0.5rem; font-size: 0.8rem;">Edit</button>
                                            <button onclick="deleteRate(${rate.id})" class="btn btn-danger" style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">Delete</button>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
            } catch (error) {
                console.error('Error loading admin rates:', error);
                document.getElementById('adminRatesLoading').innerHTML = '<p>Error loading rates.</p>';
            }
        }

        // Rate form submission
        document.getElementById('rateForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());
            data.isActive = document.getElementById('isActive').checked;
            
            const rateId = document.getElementById('rateId').value;
            const isEdit = !!rateId;
            
            const successDiv = document.getElementById('rateSuccess');
            const errorDiv = document.getElementById('rateError');
            
            try {
                const url = isEdit ? `${API_BASE}/api/admin/rates/${rateId}` : `${API_BASE}/api/admin/rates`;
                const method = isEdit ? 'PUT' : 'POST';
                
                const response = await makeAuthenticatedRequest(url, {
                    method: method,
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    successDiv.textContent = `Rate ${isEdit ? 'updated' : 'created'} successfully!`;
                    successDiv.style.display = 'block';
                    errorDiv.style.display = 'none';
                    resetRateForm();
                    loadAdminRates();
                    loadRates(); // Refresh public rates
                } else {
                    errorDiv.textContent = result.error || `Failed to ${isEdit ? 'update' : 'create'} rate`;
                    errorDiv.style.display = 'block';
                    successDiv.style.display = 'none';
                }
            } catch (error) {
                console.error('Error with rate:', error);
                errorDiv.textContent = `Failed to ${isEdit ? 'update' : 'create'} rate. Please try again.`;
                errorDiv.style.display = 'block';
                successDiv.style.display = 'none';
            }
        });

        // Pet management functions
        window.editPet = async function(petId) {
            // For now, just show an alert. You can implement a full edit modal later
            const newStory = prompt('Edit pet story (leave empty to keep current):');
            if (newStory !== null) {
                try {
                    const response = await makeAuthenticatedRequest(`${API_BASE}/api/admin/gallery/${petId}`, {
                        method: 'PUT',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            petName: 'Current Name', // You'd get this from the form
                            storyDescription: newStory 
                        })
                    });
                    
                    if (response.ok) {
                        loadAdminGallery();
                        loadGallery();
                    }
                } catch (error) {
                    console.error('Error editing pet:', error);
                }
            }
        };

        window.deletePet = async function(petId) {
            if (!confirm('Are you sure you want to delete this pet from the gallery? This will also delete all associated images.')) return;
            
            try {
                const response = await makeAuthenticatedRequest(`${API_BASE}/api/admin/gallery/${petId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    loadAdminGallery();
                    loadGallery(); // Refresh public gallery
                } else {
                    alert('Failed to delete pet. Please try again.');
                }
            } catch (error) {
                console.error('Error deleting pet:', error);
                alert('Failed to delete pet. Please try again.');
            }
        };

        // Rate management functions
        window.editRate = async function(rateId) {
            try {
                const response = await makeAuthenticatedRequest(`${API_BASE}/api/admin/rates`);
                const rates = await response.json();
                const rate = rates.find(r => r.id === rateId);
                
                if (rate) {
                    document.getElementById('rateId').value = rate.id;
                    document.getElementById('serviceType').value = rate.service_type;
                    document.getElementById('ratePerUnit').value = rate.rate_per_unit;
                    document.getElementById('unitType').value = rate.unit_type;
                    document.getElementById('description').value = rate.description || '';
                    document.getElementById('isActive').checked = rate.is_active;
                    document.getElementById('rateSubmitBtn').textContent = 'Update Rate';
                }
            } catch (error) {
                console.error('Error loading rate for edit:', error);
            }
        };

        window.deleteRate = async function(rateId) {
            if (!confirm('Are you sure you want to delete this rate?')) return;
            
            try {
                const response = await makeAuthenticatedRequest(`${API_BASE}/api/admin/rates/${rateId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    loadAdminRates();
                    loadRates(); // Refresh public rates
                } else {
                    alert('Failed to delete rate. Please try again.');
                }
            } catch (error) {
                console.error('Error deleting rate:', error);
                alert('Failed to delete rate. Please try again.');
            }
        };

        window.resetRateForm = function() {
            document.getElementById('rateForm').reset();
            document.getElementById('rateId').value = '';
            document.getElementById('rateSubmitBtn').textContent = 'Add Rate';
            document.getElementById('rateSuccess').style.display = 'none';
            document.getElementById('rateError').style.display = 'none';
        };

        // Contact form submission
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Validate that either email or phone is provided
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            
            if (!email && !phone) {
                alert('Please provide either an email address or phone number so we can contact you.');
                return;
            }
            
            // Get form data
            const formData = new FormData(this);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });
            
            // Show loading state
            const submitButton = this.querySelector('.btn');
            const originalText = submitButton.textContent;
            submitButton.textContent = 'Sending...';
            submitButton.disabled = true;
            
            try {
                // Send to backend service
                const response = await fetch(`${API_BASE}/api/contact`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // Show success message
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Reset form
                    this.reset();
                    
                    // Hide success message after 5 seconds
                    setTimeout(() => {
                        document.getElementById('successMessage').style.display = 'none';
                    }, 5000);
                } else {
                    throw new Error(result.error || 'Failed to submit request');
                }
                
            } catch (error) {
                console.error('Error submitting form:', error);
                alert('There was an error submitting your request. Please try again or call directly.');
            } finally {
                // Reset button state
                submitButton.textContent = originalText;
                submitButton.disabled = false;
            }
        });
    </script>
</body>
</html>